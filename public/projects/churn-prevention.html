<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XPW0Q1S0D9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XPW0Q1S0D9');
  </script>
  <meta charset="utf-8" />
  <title>Churn Prevention via Survival Analysis — Shabbir Tashrifwala</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="End-to-end churn prevention system that predicts when customers will churn with survival analysis and turns risk into concrete retention actions via a next-best-action engine." />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --navy:        #050A18;
      --navy-light:  #0A1628;
      --navy-mid:    #0D1F3C;
      --teal:        #00F0FF;
      --teal-dim:    rgba(0,240,255,0.15);
      --teal-faint:  rgba(0,240,255,0.06);
      --ink:         #f1f5f9;
      --muted:       #94a3b8;
      --border:      rgba(0,240,255,0.1);
      --border-h:    rgba(0,240,255,0.3);
      --glass:       rgba(10,22,40,0.7);
      --mono:        "JetBrains Mono", monospace;
      --sans:        "Inter", system-ui, sans-serif;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      background: var(--navy);
      color: var(--ink);
      font-family: var(--sans);
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
      background-image:
        radial-gradient(at 0% 0%, rgba(0,240,255,0.04) 0, transparent 50%),
        radial-gradient(at 100% 100%, rgba(0,240,255,0.03) 0, transparent 50%);
      background-attachment: fixed;
    }
    body::before {
      content: "";
      position: fixed; inset: 0; pointer-events: none; z-index: 0;
      background-image:
        linear-gradient(rgba(0,240,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,240,255,0.03) 1px, transparent 1px);
      background-size: 40px 40px;
      opacity: 0.6;
    }
    a { color: var(--teal); text-decoration: none; transition: opacity .2s; }
    a:hover { opacity: .75; }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 1; }

    header {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: blur(20px) saturate(180%);
      background: rgba(5,10,24,0.85);
      border-bottom: 1px solid var(--border);
    }
    .header-inner {
      max-width: 1100px; margin: 0 auto; padding: 14px 24px;
      display: flex; align-items: center; gap: 16px; flex-wrap: wrap;
    }
    .brand { display: flex; align-items: center; gap: 12px; flex: 1; min-width: 0; }
    .brand-logo {
      font-family: var(--mono); font-size: 13px; font-weight: 700;
      color: var(--teal); letter-spacing: .2em; text-transform: uppercase;
      text-decoration: none;
      text-shadow: 0 0 12px rgba(0,240,255,0.6);
      flex-shrink: 0;
    }
    .brand-sep { width: 1px; height: 20px; background: var(--border); flex-shrink: 0; }
    .brand h1 { font-size: 15px; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .header-actions { display: flex; gap: 10px; flex-wrap: wrap; flex-shrink: 0; }

    .btn {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 16px; border-radius: 2px; font-family: var(--mono);
      font-size: 11px; font-weight: 700; letter-spacing: .15em; text-transform: uppercase;
      text-decoration: none; border: 1px solid;
      transition: all .25s; cursor: pointer;
    }
    .btn-ghost { border-color: var(--border); color: var(--muted); background: transparent; }
    .btn-ghost:hover {
      border-color: var(--teal); color: var(--teal); background: var(--teal-faint);
      box-shadow: 0 0 16px rgba(0,240,255,0.12); opacity: 1;
    }

    main { padding: 32px 0 64px; }

    .synopsis-card {
      background: var(--glass); border: 1px solid var(--border);
      backdrop-filter: blur(12px); border-radius: 2px;
      padding: 28px; margin-bottom: 24px;
      transition: border-color .3s;
    }
    .synopsis-card:hover { border-color: var(--border-h); }

    .section-label { display: flex; align-items: center; gap: 12px; margin-bottom: 14px; }
    .section-label span.line { height: 1px; width: 32px; background: rgba(0,240,255,0.4); }
    .section-label span.text { font-family: var(--mono); font-size: 10px; letter-spacing: .3em; text-transform: uppercase; color: var(--teal); }

    h2 { font-size: 22px; font-weight: 800; color: var(--ink); margin-bottom: 12px; }
    h3 { font-size: 16px; font-weight: 700; color: var(--ink); margin: 20px 0 8px; }
    p  { color: var(--muted); margin-bottom: 12px; font-size: 15px; }
    ul, ol { padding-left: 20px; }
    li { color: var(--muted); margin-bottom: 6px; font-size: 15px; }
    li strong { color: var(--ink); }

    .grid { display: grid; gap: 20px; }
    @media(min-width: 980px) { .grid { grid-template-columns: 260px 1fr; } }

    nav.toc {
      position: sticky; top: 72px; align-self: start;
      background: var(--glass); border: 1px solid var(--border);
      backdrop-filter: blur(12px); border-radius: 2px; padding: 16px;
    }
    .toc-title {
      font-family: var(--mono); font-size: 10px; letter-spacing: .3em;
      text-transform: uppercase; color: var(--teal); margin-bottom: 12px;
      padding-bottom: 10px; border-bottom: 1px solid var(--border);
    }
    nav.toc a {
      display: block; color: var(--muted); padding: 7px 10px; border-radius: 2px;
      font-size: 13px; border: 1px solid transparent; transition: all .2s;
      text-decoration: none;
    }
    nav.toc a:hover { background: var(--teal-faint); border-color: var(--border); color: var(--ink); opacity: 1; }

    .content-section {
      background: var(--glass); border: 1px solid var(--border);
      backdrop-filter: blur(12px); border-radius: 2px;
      padding: 24px; margin-bottom: 16px;
      transition: border-color .3s;
    }
    .content-section:hover { border-color: var(--border-h); }

    .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
    .chip {
      font-family: var(--mono); font-size: 11px; padding: 4px 10px; border-radius: 2px;
      background: var(--teal-faint); border: 1px solid rgba(0,240,255,0.15);
      color: rgba(0,240,255,0.7); letter-spacing: .05em;
    }
    .callout {
      padding: 14px 16px; border-left: 3px solid var(--teal);
      background: var(--teal-dim); border-radius: 0 2px 2px 0;
      margin: 14px 0; color: var(--ink); font-size: 14px;
    }
    table {
      width: 100%; border-collapse: separate; border-spacing: 0;
      border-radius: 2px; margin: 14px 0; border: 1px solid var(--border); overflow: hidden;
    }
    thead th {
      background: rgba(0,240,255,0.04); color: var(--teal); font-family: var(--mono);
      font-size: 11px; letter-spacing: .1em; text-transform: uppercase;
      text-align: left; padding: 10px 12px; border-bottom: 1px solid var(--border);
    }
    tbody td { padding: 10px 12px; border-bottom: 1px solid var(--border); color: var(--muted); font-size: 14px; }
    tbody tr:last-child td { border-bottom: none; }
    tbody tr:hover td { background: var(--teal-faint); }

    .corner-tl { position: fixed; top: 80px; left: 16px; width: 24px; height: 24px; border-top: 1px solid rgba(0,240,255,0.2); border-left: 1px solid rgba(0,240,255,0.2); pointer-events: none; z-index: 2; }
    .corner-br { position: fixed; bottom: 16px; right: 16px; width: 24px; height: 24px; border-bottom: 1px solid rgba(0,240,255,0.2); border-right: 1px solid rgba(0,240,255,0.2); pointer-events: none; z-index: 2; }
  </style>
</head>
<body>
  <div class="corner-tl"></div>
  <div class="corner-br"></div>

  <header>
    <div class="header-inner">
      <div class="brand">
        <a class="brand-logo" href="/">ST</a>
        <div class="brand-sep"></div>
        <h1>Churn Prevention via Survival Analysis</h1>
      </div>
      <div class="header-actions">
        <a class="btn btn-ghost" href="https://github.com/Shabbir-Tashrifwala/Churn-Prevention-with-Survival-Analysis-and-Next-Best-Action" target="_blank" rel="noreferrer">
          ⌥ GitHub
        </a>
        <a class="btn btn-ghost" href="/#projects">
          ← Back
        </a>
      </div>
    </div>
  </header>

  <main>
    <div class="container">

      <!-- Synopsis -->
      <div class="synopsis-card">
        <div class="section-label">
          <span class="line"></span>
          <span class="text">Synopsis</span>
        </div>
        <h2>Churn Prevention via Survival Analysis &amp; Next-Best-Action</h2>
        <p>
          Most churn prediction systems only tell you which customers might leave, but not when they will leave or what to do about it. This system solves both problems: predicting not just who will churn but when each customer is likely to leave, then automatically recommending the best retention action. It treats churn as a timing problem rather than a simple yes/no question. The system includes automated daily batch processing for your full customer base and instant individual predictions through a FastAPI service, so retention teams can act immediately.
        </p>
        <div class="chips">
          <span class="chip">Survival Analysis</span>
          <span class="chip">Kaplan-Meier</span>
          <span class="chip">CoxPH</span>
          <span class="chip">Gradient Boosting</span>
          <span class="chip">C-index &amp; Brier</span>
          <span class="chip">Lift@K</span>
          <span class="chip">Next-Best-Action</span>
          <span class="chip">Batch + FastAPI</span>
        </div>
      </div>

      <div class="grid">
        <nav class="toc" aria-label="Table of contents">
          <div class="toc-title">Contents</div>
          <a href="#problem">1. Problem statement</a>
          <a href="#solution">2. Solution overview</a>
          <a href="#data">3. Data transformation</a>
          <a href="#km">4. Exploratory analysis</a>
          <a href="#models">5. Modeling</a>
          <a href="#evaluation">6. Evaluation</a>
          <a href="#results">7. Results</a>
          <a href="#nba">8. Next-Best-Action</a>
          <a href="#deploy">9. Deployment</a>
          <a href="#eng">10. Engineering</a>
          <a href="#limits">11. Limits &amp; future</a>
          <a href="#faq">FAQ</a>
        </nav>

        <div>
          <div class="content-section" id="problem">
            <div class="section-label"><span class="line"></span><span class="text">01</span></div>
            <h2>Problem statement</h2>
            <p>Classification answers if a customer will churn within a window. Survival analysis answers when churn becomes likely for each individual. Timing unlocks proactive outreach, smarter incentive timing, and better budget allocation.</p>
            <div class="callout">North-star: improve lift in the top risk bucket while keeping survival probabilities calibrated at short and medium horizons.</div>
          </div>

          <div class="content-section" id="solution">
            <div class="section-label"><span class="line"></span><span class="text">02</span></div>
            <h2>Solution overview</h2>
            <p>The product converts a telecom churn dataset into survival format, explores segment-level retention with Kaplan-Meier curves, trains two models, and operationalizes the best model for both batch campaigns and real-time calls. A decision matrix maps risk and value to the next best action so teams know exactly what to do and when.</p>
            <div class="chips">
              <span class="chip">Time-to-event framing</span>
              <span class="chip">Dual model track</span>
              <span class="chip">Prescriptive layer</span>
            </div>
          </div>

          <div class="content-section" id="data">
            <div class="section-label"><span class="line"></span><span class="text">03</span></div>
            <h2>Data &amp; survival transformation</h2>
            <p>Source: IBM Telco Customer Churn. Tenure in months is the time variable. Event flag = 1 for churned, 0 for right-censored (still active at last observation). Categorical fields one-hot encoded. Compact autopay flag derived from payment method. Senior citizen, contract type, internet service type, support add-ons, and billing fields retained.</p>
            <p>This structure preserves information from active customers and avoids bias that a plain classifier creates by discarding censored rows.</p>
          </div>

          <div class="content-section" id="km">
            <div class="section-label"><span class="line"></span><span class="text">04</span></div>
            <h2>Exploratory survival analysis</h2>
            <p>Kaplan-Meier curves show how retention changes with time. Segment curves reveal where risk concentrates:</p>
            <ul>
              <li><strong>Contract:</strong> month-to-month customers drop fast; one- and two-year contracts stay longer.</li>
              <li><strong>Internet service:</strong> fiber has higher churn than DSL, both higher than no internet.</li>
              <li><strong>Autopay:</strong> non-autopay customers churn more than autopay users.</li>
              <li><strong>Senior status:</strong> seniors churn faster than non-seniors.</li>
            </ul>
            <p>Log-rank tests confirm these curves differ in a statistically meaningful way. These insights shape features and the action plan.</p>
          </div>

          <div class="content-section" id="models">
            <div class="section-label"><span class="line"></span><span class="text">05</span></div>
            <h2>Modeling approach</h2>
            <h3>Cox Proportional Hazards</h3>
            <p>Cox model estimates how each feature scales the hazard of churn. Hazard ratios give clear levers: month-to-month raises risk vs. two-year; non-autopay raises risk vs. autopay; fiber raises risk vs. DSL.</p>
            <h3>Gradient Boosting Survival</h3>
            <p>A gradient-boosted survival model captures non-linearities and interactions while optimizing a Cox-style objective. Usually ranks risk better while Cox remains easier to explain.</p>
            <div class="chips">
              <span class="chip">Interpretability vs. accuracy</span>
              <span class="chip">Use both for insight and power</span>
            </div>
          </div>

          <div class="content-section" id="evaluation">
            <div class="section-label"><span class="line"></span><span class="text">06</span></div>
            <h2>Evaluation protocol</h2>
            <h3>Concordance index</h3>
            <p>C-index measures how well the model orders customers by time to churn. Values well above 0.5 show useful discrimination. The boosted model typically edges out Cox.</p>
            <h3>Time-dependent Brier score</h3>
            <p>Evaluates accuracy of predicted survival probabilities at chosen horizons with proper censoring weights. Lower is better. Curves across 6–24 months help judge calibration.</p>
            <h3>Lift at top K%</h3>
            <p>If we target the top decile by risk, how many more churners do we capture compared to random targeting? Strong lift means efficient spend.</p>
          </div>

          <div class="content-section" id="results">
            <div class="section-label"><span class="line"></span><span class="text">07</span></div>
            <h2>Results</h2>
            <ul>
              <li>Kaplan-Meier confirmed contract length, autopay, internet type, and senior status as strong drivers.</li>
              <li>Cox delivered clear hazard ratios that match survival curves — works as a story engine for stakeholders.</li>
              <li>Gradient boosting improved rank order and reduced Brier at common horizons — the production scorer.</li>
              <li>Lift improved in the top decile — campaigns cheaper for the same save rate.</li>
            </ul>
            <table>
              <thead><tr><th>Aspect</th><th>CoxPH</th><th>Boosted Survival</th></tr></thead>
              <tbody>
                <tr><td>Interpretability</td><td>High — hazard ratios</td><td>Lower — feature importance</td></tr>
                <tr><td>Discrimination</td><td>Good</td><td>Very good</td></tr>
                <tr><td>Calibration</td><td>Good</td><td>Good to very good</td></tr>
                <tr><td>When to use</td><td>Explain drivers &amp; set policy</td><td>Score customers for campaigns</td></tr>
              </tbody>
            </table>
          </div>

          <div class="content-section" id="nba">
            <div class="section-label"><span class="line"></span><span class="text">08</span></div>
            <h2>Next-Best-Action strategy</h2>
            <p>Prediction has value only when it leads to action. The system segments by churn risk and customer value, then maps each cell to a concrete play: high-value + high-risk gets a high-touch offer and early renewal path; medium risk gets automated education or usage nudges; low risk is monitored to avoid wasted spend.</p>
            <div class="callout">Timing matters. Survival curves tell us when risk spikes. Outreach is scheduled before that spike, not after it.</div>
          </div>

          <div class="content-section" id="deploy">
            <div class="section-label"><span class="line"></span><span class="text">09</span></div>
            <h2>Deployment paths</h2>
            <h3>Batch scoring</h3>
            <p>A scheduled job loads the latest snapshot, applies the preprocessing pipeline and trained model, computes survival probabilities at chosen horizons, and exports a scored file with a recommended next action for each customer. Feeds marketing tools and CRM lists.</p>
            <h3>Real-time API</h3>
            <p>A FastAPI service loads the serialized pipeline and model on startup, exposes a POST endpoint, validates payloads with Pydantic, runs the pipeline, and returns a risk score with survival probabilities. Can be queried by agent desktops or web apps.</p>
          </div>

          <div class="content-section" id="eng">
            <div class="section-label"><span class="line"></span><span class="text">10</span></div>
            <h2>Engineering details</h2>
            <ul>
              <li><strong>Preprocessing:</strong> ColumnTransformer for numeric scaling and one-hot encoding; same transformer reused in training and inference.</li>
              <li><strong>Validation:</strong> train-test split with stratified churn rate, optional cross-validation for tuning the boosted model.</li>
              <li><strong>Serialization:</strong> joblib for the full pipeline + model bundle to keep inference consistent.</li>
              <li><strong>Monitoring:</strong> track C-index drift and Brier at 6 and 12 months, track campaign lift by decile, audit calibration with reliability plots.</li>
            </ul>
          </div>

          <div class="content-section" id="limits">
            <div class="section-label"><span class="line"></span><span class="text">11</span></div>
            <h2>Limits &amp; future work</h2>
            <ul>
              <li>Static features only — add time-varying covariates like monthly usage and ticket counts.</li>
              <li>No direct uplift modeling yet — introduce controlled experiments and train meta-learners.</li>
              <li>Single event focus — explore competing risks to separate price churn from service churn.</li>
              <li>Localization — tune actions and thresholds by region and plan type.</li>
            </ul>
          </div>

          <div class="content-section" id="faq">
            <div class="section-label"><span class="line"></span><span class="text">FAQ</span></div>
            <h2>FAQ</h2>
            <h3>Why survival analysis instead of a classifier?</h3>
            <p>It uses censored information from active customers and gives time-based probabilities. That supports proactive timing which a plain classifier cannot do well.</p>
            <h3>Which model should I trust day-to-day?</h3>
            <p>Use the boosted survival model for scoring and Cox for explanations. They complement each other.</p>
            <h3>How do I act on the scores?</h3>
            <p>Use the decision matrix. Pick actions that match both risk and value. Schedule contact before the customer's risk spike.</p>
            <h3>What does a good result look like?</h3>
            <p>Higher lift in the top decile and well-calibrated probabilities at the horizons that matter to your business — fewer lost customers for the same budget.</p>
          </div>
        </div>
      </div>
    </div>
  </main>
</body>
</html>
